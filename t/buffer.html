<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0,user-scalable=no"">
  <title>Optera Pomp Systeem Calculator</title>
  <link rel="stylesheet" href="buffer.css"> 
  <link rel="icon" href="/images/optera logo witte achtergrond.ico" sizes="any">
  <link rel="icon" href="/images/optera logo witte achtergrond.svg" type="image/svg+xml">
</head>

<body>
  <div class="container">
    <img src="/images/optera logo witte achtergrond.svg" alt="Optera logo without circle">

    <header class="card-header">
      <h1>Pomp Buffer Calculator</h1>
    </header>
    <div class="alert">
      <div class="alert-header" onclick="toggleReference()">
        <h2>Referenties</h2>
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" stroke="currentColor"
          stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-chevron-down">
          <polyline points="6 9 12 15 18 9"></polyline>
        </svg>
      </div>
      <div class="alert-content">
        <p><strong>Rainfall Intensity (m³/m²/hour):</strong></p>
        <ul>
          <li>Light Rain: 0.01 (10mm/hour)</li>
          <li>Moderate Rain: 0.02 (20mm/hour)</li>
          <li>Heavy Rain: 0.03 (30mm/hour)</li>
          <li>Extreme Rain: 0.05 (50mm/hour)</li>
          <li><strong>Typical Parking Area Rainfall Intensity:</strong> 0.015 (15mm/hour)</li>
          <li><strong>Typical Roof Area Rainfall Intensity:</strong> 0.02 (20mm/hour)</li>
        </ul>
        <p><strong>Design Storm Return Periods:</strong></p>
        <ul>
          <li>1-year storm: 0.025 (25mm/hour)</li>
          <li>10-year storm: 0.045 (45mm/hour)</li>
          <li>100-year storm: 0.07 (70mm/hour)</li>
        </ul>
        <p><strong>Typical Design Durations:</strong></p>
        <ul>
          <li>Minimum: 2 hours</li>
          <li>Typical: 6 hours</li>
          <li>Extended: 24 hours</li>
          <li>Extreme: 72 hours</li>
        </ul>
        <p><strong>Buffer Sizing Guidelines:</strong></p>
        <ul>
          <li>Minimum: 1 hour retention</li>
          <li>Typical: 4 hours retention</li>
          <li>Conservative: 8 hours retention</li>
        </ul>
      </div>
    </div>

    <div class="input-section">
      <div class="input-group">
        <label for="parkingArea">Parking Area (m²)</label>
        <div class="input-wrapper">
          <input type="number" id="parkingArea" name="parkingArea" value="0" step="100" data-step="100">
          <button class="btn-minus" data-step="100">-</button>
          <button class="btn-plus" data-step="100">+</button>
        </div>
      </div>
      <div class="input-group">
        <label for="roofArea">Roof Area (m²)</label>
        <div class="input-wrapper">
          <input type="number" id="roofArea" name="roofArea" value="500" step="100" data-step="100">
          <button class="btn-minus" data-step="100">-</button>
          <button class="btn-plus" data-step="100">+</button>
        </div>
      </div>
      <div class="input-group">
        <label for="parkingRainfallIntensity">Rainfall Intensity Parking (m³/m²/hour)</label>
        <div class="input-wrapper">
          <input type="number" id="parkingRainfallIntensity" name="parkingRainfallIntensity" step="0.001" value="0.015" data-step="0.001">
          <button class="btn-minus" data-step="0.001">-</button>
          <button class="btn-plus" data-step="0.001">+</button>
        </div>
      </div>
      <div class="input-group">
        <label for="roofRainfallIntensity">Rainfall Intensity Roof (m³/m²/hour)</label>
        <div class="input-wrapper">
          <input type="number" id="roofRainfallIntensity" name="roofRainfallIntensity" step="0.001" value="0.02" data-step="0.001">
          <button class="btn-minus" data-step="0.001">-</button>
          <button class="btn-plus" data-step="0.001">+</button>
        </div>
      </div>
      <div class="input-group">
        <label for="designDuration">Design Duration (hours)</label>
        <div class="input-wrapper">
          <input type="number" id="designDuration" name="designDuration" value="6" data-step="1">
          <button class="btn-minus" data-step="1">-</button>
          <button class="btn-plus" data-step="1">+</button>
        </div>
      </div>
      <div class="input-group">
        <label for="bufferVolume">Buffer Volume (m³)</label>
        <div class="input-wrapper">
          <input type="number" id="bufferVolume" name="bufferVolume" value="50" data-step="10">
          <button class="btn-minus" data-step="10">-</button>
          <button class="btn-plus" data-step="10">+</button>
        </div>
      </div>
      <div class="input-group">
        <label for="pumpCapacity">Pump Capacity (m³/hour)</label>
        <div class="input-wrapper">
          <input type="number" id="pumpCapacity" name="pumpCapacity" value="7.2" data-step="0.1">
          <button class="btn-minus" data-step="0.1">-</button>
          <button class="btn-plus" data-step="0.1">+</button>
        </div>
      </div>
      <div class="input-group">
        <label for="numberOfPumps">Number of Pumps</label>
        <div class="input-wrapper">
          <input type="number" id="numberOfPumps" name="numberOfPumps" min="1" max="3" value="1" data-step="1">
          <button class="btn-minus" data-step="1">-</button>
          <button class="btn-plus" data-step="1">+</button>
        </div>
      </div>
    </div>

    <div class="results-wrapper">
      <div class="results-section">
        <h2>Calculations</h2>
        <div id="calculations"></div>
      </div>
      <div class="charts-wrapper">
        <div class="chart-section">
          <canvas id="bufferChart"></canvas>
        </div>
        <div class="chart-section">
          <canvas id="waterLevelChart"></canvas>
        </div>
      </div>
    </div>

    <!-- Scripts -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="buffer.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chartjs-plugin-annotation"></script>